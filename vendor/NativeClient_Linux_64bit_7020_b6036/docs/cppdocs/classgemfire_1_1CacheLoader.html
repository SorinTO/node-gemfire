<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Pivotal GemFire Native Client Cache Reference: gemfire::CacheLoader Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li class="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="namespacegemfire.html">gemfire</a>::<a class="el" href="classgemfire_1_1CacheLoader.html">CacheLoader</a></div>
<h1>gemfire::CacheLoader Class Reference</h1><!-- doxytag: class="gemfire::CacheLoader" --><!-- doxytag: inherits="gemfire::SharedBase" -->Inherits <a class="el" href="classgemfire_1_1SharedBase.html">gemfire::SharedBase</a>.
<p>
<hr><a name="_details"></a><h2>Detailed Description</h2>
An application plug-in that can be installed on a region. 
<p>
Loaders facilitate loading of data into the cache. When an application does a lookup for a key in a region and it does not exist, the system checks to see if any loaders are available for the region in the system and invokes them to get the value for the key into the cache. Allows data to be loaded from a 3rd party data source and placed into the region When <a class="el" href="classgemfire_1_1Region.html#6417a042b32bba4bd39011dc5909f4c1">Region::get</a> is called for a region entry that has a <code>NULLPTR</code> value, the <a class="el" href="classgemfire_1_1CacheLoader.html#d41f723ec2abb957ec89451d6f7ffd71">CacheLoader::load</a> method of the region's cache loader is invoked. The <code>load</code> method creates the value for the desired key by performing an operation such as a database query.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classgemfire_1_1AttributesFactory.html#e43c655aa46dbe03d47744e54ce92fea" title="Sets the cache loader for the next RegionAttributes created.">AttributesFactory::setCacheLoader</a> <p>
<a class="el" href="classgemfire_1_1RegionAttributes.html#b5e74aa67939e2bde0859b2c1606ee30">RegionAttributes::getCacheLoader</a> </dd></dl>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgemfire_1_1CacheLoader.html#51e154615b5aa1900f5ad594dbac70da">close</a> (const <a class="el" href="classgemfire_1_1SharedPtr.html">RegionPtr</a> &amp;rp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when the region containing this callback is destroyed, when the cache is closed.  <a href="#51e154615b5aa1900f5ad594dbac70da"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classgemfire_1_1SharedPtr.html">CacheablePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgemfire_1_1CacheLoader.html#d41f723ec2abb957ec89451d6f7ffd71">load</a> (const <a class="el" href="classgemfire_1_1SharedPtr.html">RegionPtr</a> &amp;rp, const <a class="el" href="classgemfire_1_1SharedPtr.html">CacheableKeyPtr</a> &amp;key, const <a class="el" href="classgemfire_1_1SharedPtr.html">UserDataPtr</a> &amp;aCallbackArgument)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loads a value.  <a href="#d41f723ec2abb957ec89451d6f7ffd71"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgemfire_1_1SharedBase.html#327be04b1f16b21a84b654e62c8cb047">preserveSB</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Atomically increment reference count.  <a href="#327be04b1f16b21a84b654e62c8cb047"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgemfire_1_1SharedBase.html#197c0b015e8fa9656ea520a0fbd57008">refCount</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><dl class="return" compact><dt><b>Returns:</b></dt><dd>the reference count </dd></dl>
 <a href="#197c0b015e8fa9656ea520a0fbd57008"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgemfire_1_1SharedBase.html#44da117cf90615f1302a5a70b5eb9d91">releaseSB</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Atomically decrement reference count, the <a class="el" href="classgemfire_1_1SharedBase.html" title="This abstract base class is the base class of all user objects that have the shared...">SharedBase</a> object is automatically deleted when its reference count goes to zero.  <a href="#44da117cf90615f1302a5a70b5eb9d91"></a><br></td></tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="51e154615b5aa1900f5ad594dbac70da"></a><!-- doxytag: member="gemfire::CacheLoader::close" ref="51e154615b5aa1900f5ad594dbac70da" args="(const RegionPtr &amp;rp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gemfire::CacheLoader::close           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgemfire_1_1SharedPtr.html">RegionPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when the region containing this callback is destroyed, when the cache is closed. 
<p>
Implementations should clean up any external resources, such as database connections. Any runtime exceptions this method throws will be logged.<p>
It is possible for this method to be called multiple times on a single callback instance, so implementations must be tolerant of this.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rp</em>&nbsp;</td><td>the region pointer</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classgemfire_1_1Cache.html#9a629fb18b9cbdca3e11c30c77bc0e27" title="Terminates this object cache and releases all the local resources.">Cache::close</a> <p>
<a class="el" href="classgemfire_1_1Region.html#2b07a940ee17e375c45421e85b27a8ff" title="Destroys the whole region and provides a user-defined parameter object to any CacheWriter...">Region::destroyRegion</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="d41f723ec2abb957ec89451d6f7ffd71"></a><!-- doxytag: member="gemfire::CacheLoader::load" ref="d41f723ec2abb957ec89451d6f7ffd71" args="(const RegionPtr &amp;rp, const CacheableKeyPtr &amp;key, const UserDataPtr &amp;aCallbackArgument)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classgemfire_1_1SharedPtr.html">CacheablePtr</a> gemfire::CacheLoader::load           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgemfire_1_1SharedPtr.html">RegionPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgemfire_1_1SharedPtr.html">CacheableKeyPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgemfire_1_1SharedPtr.html">UserDataPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>aCallbackArgument</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loads a value. 
<p>
Application writers should implement this method to customize the loading of a value. This method is called by the caching service when the requested value is not in the cache. Any exception thrown by this method is propagated back to and thrown by the invocation of <a class="el" href="classgemfire_1_1Region.html#6417a042b32bba4bd39011dc5909f4c1">Region::get</a> that triggered this load. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rp</em>&nbsp;</td><td>a <a class="el" href="classgemfire_1_1Region.html" title="This class manages subregions and cached data.">Region</a> Pointer for which this is called. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>the key for the cacheable </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>helper</em>&nbsp;</td><td>any related user data, or NULLPTR </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the value supplied for this key, or NULLPTR if no value can be supplied.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classgemfire_1_1Region.html#6417a042b32bba4bd39011dc5909f4c1" title="Returns the value associated with the specified key, passing the callback argument...">Region::get</a> . </dd></dl>

</div>
</div><p>
<a class="anchor" name="327be04b1f16b21a84b654e62c8cb047"></a><!-- doxytag: member="gemfire::CacheLoader::preserveSB" ref="327be04b1f16b21a84b654e62c8cb047" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gemfire::SharedBase::preserveSB           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Atomically increment reference count. 
<p>

</div>
</div><p>
<a class="anchor" name="197c0b015e8fa9656ea520a0fbd57008"></a><!-- doxytag: member="gemfire::CacheLoader::refCount" ref="197c0b015e8fa9656ea520a0fbd57008" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t gemfire::SharedBase::refCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the reference count </dd></dl>

<p>

</div>
</div><p>
<a class="anchor" name="44da117cf90615f1302a5a70b5eb9d91"></a><!-- doxytag: member="gemfire::CacheLoader::releaseSB" ref="44da117cf90615f1302a5a70b5eb9d91" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gemfire::SharedBase::releaseSB           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Atomically decrement reference count, the <a class="el" href="classgemfire_1_1SharedBase.html" title="This abstract base class is the base class of all user objects that have the shared...">SharedBase</a> object is automatically deleted when its reference count goes to zero. 
<p>

</div>
</div><p>
<HR><address style="align: right;"><small>GemFire C++ Cache API Documentation</small></address>
